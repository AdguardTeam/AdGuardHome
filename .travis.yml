language: go
sudo: false
go:
  - 1.10.x
  - 1.11.x
  - master
  - tip

cache: yarn

node_js:
  - 10.9.0

os:
  - linux
  - osx

before_install:
  - which yarn || npm i -g yarn@1.9.4

script:
  - make
  - cd dnsfilter && go get -d -t . && go test
  - cd ../coredns_plugin && go get -d -t . && go test
  - cd .. && make

